<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<%- partial('_partial/head') %>
    <% var page_class='category' ; if(is_post()){ page_class='single' ; } %>

        <body class="text-gray-900 dark:text-gray-100 transition-colors duration-300 <%= page_class %>">
            <div class="flex flex-col">
                <!-- 头部导航 -->
                <%- partial('_partial/header') %>

                    <!-- 主要内容区域 -->
                    <main class="flex-1">
                        <div class="mx-auto px-2 sm:px-6 lg:px-8 py-8 <%= is_post() ? 'max-w-5xl' : 'max-w-7xl' %>">
                            <div class="main-layout flex flex-col lg:flex-row gap-8">
                                <!-- 主内容区 -->
                                <div class="main-content flex-1">
                                    <div class="<%= is_post() ? 'surface-panel rounded-lg p-4 md:p-12 lg:p-16' : '' %>">
                                        <%- body %>
                                    </div>
                                </div>

                                <% if (!is_post()) { %>
                                    <!-- 侧边栏 - 仅在非文章页显示 -->
                                    <aside class="main-sidebar hidden lg:block lg:w-72 xl:w-80 flex-shrink-0">
                                        <%- partial('_partial/sidebar') %>
                                    </aside>
                                    <% } %>
                            </div>
                        </div>
                    </main>

                    <!-- 页脚 -->
                    <%- partial('_partial/footer') %>
            </div>
        </body>
        <!-- JavaScript -->
        <script src="<%- url_for('js/plugins.js') %>" defer></script>
        <!-- Mermaid 支持 -->
        <% if (config.mermaid && config.mermaid.enable) { %>
            <script src="<%- url_for('js/mermaid.min.js') %>"></script>
            <script src="<%- url_for('js/mermaid-init.js') %>"></script>
            <%- css('css/mermaid.css') %>
            <% } %>

</html>
